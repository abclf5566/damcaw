<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="color-scheme" content="light dark" />
  <title>æ·±åº¦è²·è³£è¨ˆç®—å™¨</title>

  <!-- é é˜²ç™½å± -->
  <style>html[data-theme="dark"]{background:#121212}</style>
  <script>
    /* --- åœ¨é é¢å°šæœªæ¸²æŸ“å‰æ±ºå®šä¸»é¡Œ --- */
    const saved   = localStorage.getItem('prefersDark');      // 'true' | 'false' | null
    const useDark = saved === 'true'
          ? true
          : saved === 'false'
          ? false
          : matchMedia('(prefers-color-scheme: dark)').matches;
    document.documentElement.dataset.theme = useDark ? 'dark' : 'light';
    if (useDark) document.documentElement.style.background = '#121212';
  </script>

  <link rel="stylesheet" href="style.css?v=20250426a" />
</head>

<body>
  <!-- â”€â”€â”€â”€â”€â”€â”€â”€â”€ ä¸»å¡ç‰‡ â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
  <div class="calculator">
    <h2>ğŸ“Š æ·±åº¦è²·è³£è¨ˆç®—å™¨ï¼ˆCoinEx &amp; Pionexï¼‰</h2>

    <!-- æ·±è‰²åˆ‡æ› -->
    <label for="darkToggle">
      <input type="checkbox" id="darkToggle" />
      ğŸŒ™ æ·±è‰²æ¨¡å¼
    </label>

    <!-- è¡¨å–®åˆ— -->
    <div class="form-row">
      <div>
        <label>äº¤æ˜“æ‰€:
          <select id="exchange">
            <option value="coinex">CoinEx</option>
            <option value="pionex">Pionex</option>
          </select>
        </label>
      </div>

      <div>
        <label>ä»£å¹£:
          <input id="symbol" list="symbolList" autocomplete="on" />
        </label>
        <datalist id="symbolList"></datalist>
      </div>

      <div>
        <label>é‡‘é¡/æ•¸é‡:
          <input id="amount" type="number" value="1000" />
        </label>
      </div>

      <div>
        <label>æ“ä½œ:
          <select id="action">
            <option value="buy">è²·å…¥</option>
            <option value="sell">è³£å‡º</option>
          </select>
        </label>
      </div>

      <div>
        <label>æ‰‹çºŒè²»(%):
          <input id="fee" type="number" value="0.1" />
        </label>
      </div>

      <div>
        <label for="cet">
          <input type="checkbox" id="cet" />
          CET æŠ˜æ‰£
        </label>
      </div>
    </div>

    <!-- è¨ˆç®—çµæœ -->
    <div id="result"></div>
    <div id="error"></div>
  </div>

  <!-- æ–°å¢è¨ˆç®—å™¨æŒ‰éˆ• -->
  <button id="addCalculator">â• æ–°å¢è¨ˆç®—å™¨</button>

  <!-- åŠŸèƒ½è…³æœ¬ -->
  <script type="module" src="app.js?v=20250526a"></script>
</body>
</html>
